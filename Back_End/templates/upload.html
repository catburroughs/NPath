<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}"> 

<!DOCTYPE html>
<html lang="en">
  
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
  <title>Upload files with Flask</title>
</head>
<body>
<h1>Upload files<h1>
   
    <form method=post enctype=multipart/form-data>  
      <input type=file name=file multiple>
      <input type=submit value=Upload>
      
    </form>
 
{%- if files %}

  <h2>Files</h2>
  <form method="post" action="/">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
</form>
  <ul>
  {%- for code, file in files.items() %}
      <li><a href="/download/{{ code }}">{{ file }}</a></li>
  {% endfor %}
  </ul>
{% endif %}
<h2>Happy with your files? Assign your touchpads!</h2>
<p align="center"><a href=assigntouchpads ><button class=grey style="height:75px;width:150px">Assign Touchpads</button></a></p>
 
</body>
</html>